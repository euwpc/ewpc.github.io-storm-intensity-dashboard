// Example data (you can connect it to your storm selector later)
const storm = {
  windSpeedKts: 45,
  windSpeedKph: 83,
  windSpeedMph: 52,
  pressure: 1002,
};

// Animate gauges
function setGauge(circleId, percent, color) {
  const circle = document.getElementById(circleId);
  const radius = 80;
  const circumference = 2 * Math.PI * radius;
  const offset = circumference - percent * circumference;
  circle.style.strokeDashoffset = offset;
  circle.style.stroke = color;
}

// Calculate color intensity based on wind strength
function getWindColor(speed) {
  if (speed < 34) return "#00ff66";
  if (speed < 63) return "#ffff00";
  if (speed < 95) return "#ff8000";
  if (speed < 115) return "#ff3300";
  return "#b000ff";
}

function updateDisplay() {
  const windPercent = Math.min(storm.windSpeedKph / 300, 1);
  const pressurePercent = Math.max((1050 - storm.pressure) / 100, 0);

  const color = getWindColor(storm.windSpeedKts);
  setGauge("windCircle", windPercent, color);
  setGauge("pressureCircle", pressurePercent, color);
}

updateDisplay();
